function asyncGeneratorStep(t,e,n,r,i,o,c){try{var a=t[o](c),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){asyncGeneratorStep(o,r,i,c,a,"next",t)}function a(t){asyncGeneratorStep(o,r,i,c,a,"throw",t)}c(void 0)}))}}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)})(t)}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(M){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),c=new C(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var c=n.delegate;if(c){var a=w(c,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,c),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(M){return{type:"throw",arg:M}}}t.wrap=s;var l={};function f(){}function d(){}function p(){}var h={};a(h,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(O([])));b&&b!==e&&n.call(b,i)&&(h=b);var m=p.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var r;this._invoke=function(i,o){function c(){return new e((function(r,c){!function r(i,o,c,a){var s=u(t[i],t,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,a)}),(function(t){r("throw",t,c,a)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,a)}))}a(s.arg)}(i,o,r,c)}))}return r=r?r.then(c,c):c()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=p,a(m,"constructor",p),a(p,"constructor",d),d.displayName=a(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(y.prototype),a(y.prototype,o,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var c=new y(s(e,n,r,i),o);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(m),a(m,c,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return c.type="throw",c.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8Zbc":function(t,e,n){"use strict";n.r(e),n.d(e,"ManagerModule",(function(){return pe}));var r=n("ofXK"),i=n("3Pt+"),o=n("aceb"),c=n("LPYB"),a=n("FTbq"),s=n("fXoL"),u=n("Iab2");n("tk/3");var l,f,d,p,h=((f=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isFileSaverSupported",get:function(){try{return!!new Blob}catch(t){return!1}}},{key:"genType",value:function(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";var e=t.substr(t.lastIndexOf(".")+1);switch(e){case"txt":return"text/plain";case"xml":case"html":return"text/"+e;case"json":return"octet/stream";default:return"application/"+e}}},{key:"save",value:function(t,e,n,r){if(!t)throw new Error("Data argument should be a blob instance");var i=new Blob([t],{type:n||t.type||this.genType(e)});Object(u.saveAs)(i,decodeURI(e||"download"),r)}},{key:"saveText",value:function(t,e,n){var r=new Blob([t]);this.save(r,e,null,n)}}]),t}()).\u0275fac=function(t){return new(t||f)},f.\u0275prov=Object(s.Ub)({factory:function(){return new f},token:f,providedIn:"root"}),f),v=((l=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=s.Wb({type:l}),l.\u0275inj=s.Vb({factory:function(t){return new(t||l)}}),l),b=n("V2v1"),m=n("G3Ii"),g=n("tyNb"),y=n("U5lE"),w=n("x0Mr"),_=n("XNiG"),k=n("/uUt"),C=n("lJxs"),O=n("zp1y"),x=n("GJmQ"),M=n("/ciQ"),I=n("JYL7"),S=n("mrSG"),j=n("7o/Q"),P=function(){function t(e){_classCallCheck(this,t),this.value=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new T(t,this.value))}}]),t}(),T=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).value=r,i}return _createClass(n,[{key:"_next",value:function(t){this.destination.next(this.value)}}]),n}(j.a),D=n("mH7l"),E=n.n(D),A=n("SxV6"),$=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"add",value:function(e,n){if(!e||""===e)throw new Error("id shouln't be empty!");if(t.map.hasOwnProperty(e))throw new Error("id: '".concat(e,"' already exist"));t.map[e]=n}},{key:"find",value:function(e){return t.map[e]}}]),t}();return t.map={},t}(),R=n("L7Zs"),L=((p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),r=e.call(this),$.add("mkdir",(function(e,n){var r=new(function(n){_inherits(i,n);var r=_createSuper(i);function i(){var n;return _classCallCheck(this,i),(n=r.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return _createClass(i)}(I.x));r.deploy(),r.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("copyfile",(function(e,n){var r=new(function(n){_inherits(i,n);var r=_createSuper(i);function i(){var n;return _classCallCheck(this,i),(n=r.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return _createClass(i)}(I.t));r.deploy(),r.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("movefile",(function(e,n){var r=new(function(n){_inherits(i,n);var r=_createSuper(i);function i(){var n;return _classCallCheck(this,i),(n=r.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return _createClass(i)}(I.y));r.deploy(),r.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("delfile",(function(e,n){var r=new(function(n){_inherits(i,n);var r=_createSuper(i);function i(){var n;return _classCallCheck(this,i),(n=r.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return _createClass(i)}(I.u));r.deploy(),r.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("synccopy",(function(e,n){var r=new(function(n){_inherits(i,n);var r=_createSuper(i);function i(){var n;return _classCallCheck(this,i),(n=r.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return _createClass(i)}(I.C));r.deploy(),r.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("syncmove",(function(e,n){var r=new(function(n){_inherits(i,n);var r=_createSuper(i);function i(){var n;return _classCallCheck(this,i),(n=r.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return _createClass(i)}(I.D));r.deploy(),r.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("purge",(function(e,n){var r=new(function(n){_inherits(i,n);var r=_createSuper(i);function i(){var n;return _classCallCheck(this,i),(n=r.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return _createClass(i)}(I.z));r.deploy(),r.getOutput().subscribe((function(t){return n.next(t)}))})),r}return _createClass(n,[{key:"AddTaskMkdir",value:function(t){return Object(S.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.AddTask({handler:"mkdir",params:t}));case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(function(){function t(){var e=this;_classCallCheck(this,t),this.groupsQueue=[],this.packsQueue=[],this.tasksQueue=new E.a({concurrency:1}),this.tasksQueue.on("idle",(function(){return e.idleHandler()}))}return _createClass(t,[{key:"idleHandler",value:function(){if(0===this.tasksQueue.size){if(0===this.packsQueue.length&&this.groupsQueue.length>0){var t=this.groupsQueue.shift();this.BundleHandle.apply(this,_toConsumableArray(t))}if(this.packsQueue.length>0){var e=this.packsQueue.shift();this.BundleHandle.apply(this,_toConsumableArray(e))}}}},{key:"AddTask",value:function(t){return Object(S.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var n,r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new _.a,r="string"==typeof t.handler?$.find(t.handler):t.handler){e.next=3;break}throw new Error("handler id '".concat(t.handler,"' not registered in TaskHandlerManager"));case 3:return e.abrupt("return",this.tasksQueue.add((function(){return Object(S.a)(i,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(r(t.params,n),n.pipe(Object(A.a)()).toPromise()));case 1:case"end":return e.stop()}}),e)})))})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"BundleHandle",value:function(t,e){return Object(S.a)(this,void 0,void 0,_regeneratorRuntime().mark((function n(){var r,i,o,c,a,s=this;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("function"==typeof t){n.next=5;break}r=t.map((function(t){return Array.isArray(t)?s.AddPack(t):s.AddTask(t)})),Promise.all(r).then((function(t){e.next([t.map((function(t){return t[0]})),t.map((function(t){return t[1]})).reduce((function(t,e){var n;return(n=[]).concat.apply(n,_toConsumableArray(t).concat(_toConsumableArray(e)))}))])})),n.next=16;break;case 5:i=t(),o=i.next(),c=[];case 8:if(o.done){n.next=15;break}return n.next=11,Array.isArray(o)?this.AddPack(o.value):this.AddTask(o.value);case 11:a=n.sent,c.push(a),o=i.next(a);case 13:n.next=8;break;case 15:e.next([c.map((function(t){return t[0]})),c.map((function(t){return t[1]})).reduce((function(t,e){var n;return(n=[]).concat.apply(n,_toConsumableArray(t).concat(_toConsumableArray(e)))}))]);case 16:case"end":return n.stop()}}),n,this)})))}},{key:"AddPack",value:function(t){return Object(S.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _.a,e.abrupt("return",(this.packsQueue.push([t,n]),this.idleHandler(),n.pipe(Object(A.a)()).toPromise()));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"AddGroup",value:function(t){return Object(S.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _.a,e.abrupt("return",(this.groupsQueue.push([t,n]),this.idleHandler(),n.pipe(Object(A.a)()).toPromise()));case 2:case"end":return e.stop()}}),e,this)})))}}]),t}())).\u0275fac=function(t){return new(t||p)(s.ic(R.a))},p.\u0275prov=s.Ub({token:p,factory:p.\u0275fac,providedIn:"root"}),p),N=((d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;_classCallCheck(this,n),(r=e.call(this)).tasksQueueService=t,r.trigger=new _.a;var i=_assertThisInitialized(r);return r.clipboard$=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r;return _classCallCheck(this,n),(t=e.apply(this,arguments)).prerequest$=i.trigger.pipe((r=[{clipboard:i},[]],function(t){return t.lift(new P(r))})),t}return _createClass(n)}(M.c)),r.clipboard$.deploy(),r.clipboard$.getOutput().subscribe(),r.trigger.next(1),r}return _createClass(n,[{key:"commit",value:function(){this.trigger.next(1)}},{key:"post",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object(S.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.values.filter((function(t){return n.some((function(e){return e===t.oper}))})).map((function(e){var n=function(){return{srcFs:e.srcRemote+":",srcRemote:e.srcItem.Path,dstFs:t.remote+":",dstRemote:[t.path,e.srcItem.Name].join("/")}},r=function(){return{srcFs:"".concat(e.srcRemote,":").concat(e.srcItem.Path),dstFs:"".concat(t.remote,":").concat([t.path,e.srcItem.Name].join("/"))}},i="",o=[{},[]];return"copy"===e.oper?(i=e.srcItem.IsDir?"synccopy":"copyfile",o[0]=e.srcItem.IsDir?r():n()):"move"===e.oper?(i=e.srcItem.IsDir?"syncmove":"movefile",o[0]=e.srcItem.IsDir?r():n()):"del"===e.oper&&(i=e.srcItem.IsDir?"purge":"delfile",o[0]={srcFs:e.srcRemote+":",srcRemote:e.srcItem.Path}),{handler:i,params:o}})),i=this.tasksQueueService.AddPack(r),e.abrupt("return",(this.clear.apply(this,n),this.commit(),i));case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(M.b)).\u0275fac=function(t){return new(t||d)(s.ic(L))},d.\u0275prov=s.Ub({token:d,factory:d.\u0275fac,providedIn:"root"}),d),F=["remotesTable"];function U(t,e){if(1&t&&(s.ec(0,"td"),s.Wc(1),s.dc(),s.ec(2,"td"),s.Wc(3),s.dc(),s.ec(4,"td"),s.ec(5,"button",2),s.Wc(6,"Detail"),s.dc(),s.dc()),2&t){var n=e.$implicit;s.Mb(1),s.Xc(n.srcRemote),s.Mb(2),s.Xc(n.srcItem.Path)}}var q,W=((q=function(){function t(e){_classCallCheck(this,t),this.service=e,this.columns=[{key:"srcRemote",title:"Remote",width:"10%"},{key:"srcItem.Path",title:"Path",width:"80%"},{key:"",title:"Action",width:"10%"}],this.data=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.service.clipboard$.getOutput().subscribe((function(e){0===e[1].length&&(t.data=e[0].clipboard.values.filter((function(e){return e.oper===t.oper})))})),this.configuration=Object.assign({},a.c),this.configuration.detailsTemplate=!0,this.configuration.tableLayout.hover=!0}},{key:"toggleDatail",value:function(t,e){t.preventDefault(),this.table.apiEvent({type:a.a.toggleRowIndex,value:e})}}]),t}()).\u0275fac=function(t){return new(t||q)(s.Yb(N))},q.\u0275cmp=s.Sb({type:q,selectors:[["app-clipboard-remotes-table"]],viewQuery:function(t,e){var n;1&t&&s.bd(F,!0),2&t&&s.Fc(n=s.nc())&&(e.table=n.first)},inputs:{oper:"oper"},decls:3,vars:4,consts:[[3,"configuration","data","id","columns"],["remotesTable",""],["nbButton",""]],template:function(t,e){1&t&&(s.ec(0,"ngx-table",0,1),s.Uc(2,U,7,2,"ng-template"),s.dc()),2&t&&s.wc("configuration",e.configuration)("data",e.data)("id","remotes-tab-"+e.oper)("columns",e.columns)},directives:[a.b,o.n],encapsulation:2}),q);function V(t,e){if(1&t){var n=s.fc();s.cc(0),s.ec(1,"div",7),s.ec(2,"button",8),s.mc("click",(function(){return s.Kc(n),s.oc(2).dialog.close(!0)})),s.Zb(3,"nb-icon",9),s.Wc(4," Confirm "),s.dc(),s.dc(),s.bc()}}function B(t,e){if(1&t&&(s.ec(0,"nb-tab",4),s.Uc(1,V,5,0,"ng-container",5),s.Zb(2,"app-clipboard-remotes-table",6),s.dc()),2&t){var n=e.$implicit;s.wc("tabTitle",n.title)("tabIcon",n.icon)("badgeText",n.len),s.Mb(1),s.wc("ngIf","del"===n.oper),s.Mb(1),s.wc("oper",n.oper)}}var K,z,Q,Y=((z=function(){function t(e,n){_classCallCheck(this,t),this.service=e,this.dialog=n,this.data=[{oper:"copy",title:"Copy",icon:"copy",len:0},{oper:"move",title:"Move",icon:"move",len:0},{oper:"del",title:"Delete",icon:"trash-2",len:0}],this.context=n.context}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.service.clipboard$.getOutput().subscribe((function(e){0===e[1].length&&t.data.forEach((function(t){return t.len=e[0].clipboard.countManipulation(t.oper)}))}))}}]),t}()).\u0275fac=function(t){return new(t||z)(s.Yb(N),s.Yb(y.d))},z.\u0275cmp=s.Sb({type:z,selectors:[["app-manager-clipboard-dialog"]],decls:8,vars:1,consts:[[1,"dialog-card"],["icon","shopping-bag",1,"clipboard-icon"],["fullWidth",""],["badgeStatus","primary",3,"tabTitle","tabIcon","badgeText",4,"ngFor","ngForOf"],["badgeStatus","primary",3,"tabTitle","tabIcon","badgeText"],[4,"ngIf"],[3,"oper"],[2,"display","flex","justify-content","center"],["nbButton","","status","danger",3,"click"],["icon","alert-triangle"]],template:function(t,e){1&t&&(s.ec(0,"nb-card",0),s.ec(1,"nb-card-header"),s.ec(2,"nb-action"),s.Zb(3,"nb-icon",1),s.dc(),s.Wc(4," Clipboard "),s.dc(),s.ec(5,"nb-card-body"),s.ec(6,"nb-tabset",2),s.Uc(7,B,3,5,"nb-tab",3),s.dc(),s.dc(),s.dc()),2&t&&(s.Mb(7),s.wc("ngForOf",e.data))},directives:[o.r,o.u,o.f,o.C,o.q,o.eb,r.n,o.db,r.o,W,o.n],styles:["nb-card-footer[_ngcontent-%COMP%], nb-card-header[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t\t.dialog-card[_ngcontent-%COMP%] {\n\t\t\t\tmargin: calc(-1em - 3px);\n\t\t\t}\n\t\t\t[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\t.clipboard-icon[_ngcontent-%COMP%] {\n\t\t\t\tfont-size: 1.5rem;\n\t\t\t\tmargin-right: 0.5rem;\n\t\t\t}"]}),z),Z=((K=_createClass((function t(e){_classCallCheck(this,t),this.dialog=e,this.context=e.context}))).\u0275fac=function(t){return new(t||K)(s.Yb(y.d))},K.\u0275cmp=s.Sb({type:K,selectors:[["ng-component"]],decls:12,vars:0,consts:[["icon","info-outline","nbTooltip","support recursively create. (eg: a/b/c)",1,"push-to-right",2,"font-size","1.5rem"],["nbInput","","fullWidth",""],["newDir",""],["nbButton","","status","danger",3,"click"],["nbButton","","status","success",1,"push-to-right",3,"click"]],template:function(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-card"),s.ec(1,"nb-card-header"),s.Wc(2," Create Directory "),s.Zb(3,"nb-icon",0),s.dc(),s.ec(4,"nb-card-body"),s.Zb(5,"input",1,2),s.dc(),s.ec(7,"nb-card-footer"),s.ec(8,"button",3),s.mc("click",(function(){return e.dialog.dismiss()})),s.Wc(9,"Close"),s.dc(),s.ec(10,"button",4),s.mc("click",(function(){s.Kc(n);var t=s.Gc(6);return e.dialog.close(t.value)})),s.Wc(11," Confirm "),s.dc(),s.dc(),s.dc()}},directives:[o.r,o.u,o.C,o.jb,o.q,o.F,o.s,o.n],styles:["nb-card[_ngcontent-%COMP%] {\n\t\t\t\tmargin: calc(-1em - 5px);\n\t\t\t}\n\t\t\tnb-card-header[_ngcontent-%COMP%], nb-card-footer[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t\t.push-to-right[_ngcontent-%COMP%] {\n\t\t\t\tmargin-left: auto;\n\t\t\t}"]}),K),G=n("itXk"),H=n("NzlE"),X=n("Jmhc"),J=((Q=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this.cmdService=e,this.toastr=n,this.fileSaverService=r,this.serverSettingService=i,this.trigger=new _.a;var c=this;this.download$=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).prerequest$=c.trigger.pipe(Object(O.a)(c.cmdService.connection$.getOutput(),c.serverSettingService.options$.getOutput()),Object(C.a)((function(t){var e=_slicedToArray(t,3),n=e[0],r=e[1],i=e[2];return 0!==i[1].length?[{},i[1]]:Object(I.q)(i[0].options,"rc","Serve")?[Object.assign(Object.assign({},r[0]),n),r[1]]:[{},[new Error("rc-serve is closed. (Tip: Set server option: rc.Serve as true)")]]}))),t}return _createClass(n)}(I.h)),this.download$.deploy(),this.download$.getSupersetOutput().subscribe((function(t){0===t[1].length?o.fileSaverService.save(t[0].ajaxRsp.response,t[0].Name):o.toastr.danger("".concat(t[0].remote,":").concat(t[0].Path),"File download failure.")}))}return _createClass(t,[{key:"post",value:function(t){this.trigger.next(t),this.toastr.default(t.Name,"Downloading ...")}}]),t}()).\u0275fac=function(t){return new(t||Q)(s.ic(R.a),s.ic(o.ib),s.ic(h),s.ic(X.a))},Q.\u0275prov=s.Ub({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q),tt=["EnableServe"];function et(t,e){if(1&t){var n=s.fc();s.ec(0,"button",6),s.mc("click",(function(){return s.Kc(n),s.oc(2).download()})),s.Wc(1,"download"),s.dc()}}function nt(t,e){if(1&t&&s.Zb(0,"app-rng-space-usage-chart",7),2&t){var n=s.oc(2);s.wc("loading",n.loadingAbout)}}function rt(t,e){if(1&t&&(s.ec(0,"div",2),s.Zb(1,"img",3),s.ec(2,"h5"),s.Wc(3),s.dc(),s.Uc(4,et,2,0,"button",4),s.Uc(5,nt,1,1,"app-rng-space-usage-chart",5),s.dc()),2&t){var n=s.oc();s.Mb(1),s.wc("src","assets/icons/"+n.typeIcon,s.Nc),s.Mb(2),s.Xc(n.name),s.Mb(1),s.wc("ngIf",!n.isDir),s.Mb(1),s.wc("ngIf",n.isDir)}}function it(t,e){1&t&&(s.ec(0,"div",8),s.ec(1,"h3"),s.Wc(2,'Are you want to enable "rc.Serve"?'),s.dc(),s.ec(3,"span",9),s.Wc(4,' Download featrue needs to enable server option "rc.Serve". '),s.dc(),s.ec(5,"p",10),s.Wc(6,' Nb: You can manually close it in "server setting" page after download completed. '),s.dc(),s.dc(),s.ec(7,"div",11),s.ec(8,"button",12),s.mc("click",(function(){return e.dialogRef.close(!0)})),s.Wc(9," OK "),s.dc(),s.ec(10,"button",13),s.mc("click",(function(){return e.dialogRef.close(!1)})),s.Wc(11," Cancel "),s.dc(),s.dc())}var ot,ct=((ot=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.downloadService=e,this.serverSettingService=n,this.modal=r,this.toastrService=i,this.cmdService=o,this.currentDirDetail=!0,this.remote="",this.path="",this.name="",this.isDir=!0,this.typeIcon="",this.downloadTrigger=new _.a,this.aboutTrigger=new _.a,this.loadingAbout=!1}return _createClass(t,[{key:"itemNode",value:function(t){this.remote=t.remote||"",this.path=t.Path||"",this.name=t.Name||"",this.isDir=t.IsDir,this.typeIcon=t.TypeIcon,""!==this.remote&&""!==this.path&&""!==this.name&&(this.currentDirDetail=!1),!this.currentDirDetail&&this.isDir&&(this.loadingAbout=!0,this.aboutTrigger.next({remote:this.remote,path:this.path}))}},{key:"download",value:function(){this.downloadTrigger.next(1)}},{key:"realDownload",value:function(){this.downloadService.post({remote:this.remote,Path:this.path,Name:this.name})}},{key:"ngOnInit",value:function(){var t=this,e=this;this.loadingAbout=!0;var n=new(function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=n.apply(this,arguments)).prerequest$=Object(G.a)([e.aboutTrigger,e.cmdService.listCmd$.verify(t.cmd)]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return 0!==r[1].length?[{},r[1]]:[Object.assign(Object.assign({},r[0]),n),[]]}))),t}return _createClass(r)}(I.v));n.deploy(),n.getOutput().subscribe((function(t){})),this.about$=new(function(t){_inherits(r,t);var e=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=e.apply(this,arguments)).prerequest$=n.getSupersetOutput(),t}return _createClass(r)}(I.s)),this.about$.deploy(),this.about$.getOutput().subscribe((function(e){t.loadingAbout=!1,0===e[1].length&&(t.chart.data=e[0].about)})),this.downloadTrigger.pipe(Object(O.a)(this.serverSettingService.options$.getOutput())).subscribe((function(e){var n=_slicedToArray(e,2)[1];Object(I.q)(n[0].options,"rc","Serve")?t.modal.confirm().className("flat-attack").message("Are you sure want to download ".concat(t.name," ?")).isBlocking(!1).open().result.then((function(e){e&&t.realDownload()}),(function(){})):t.modal.open(t.EnableServe,Object(y.m)({isBlocking:!1,className:"flat-attack"},w.b)).result.then((function(e){e&&(t.serverSettingService.setOption({rc:{Serve:!0}}),t.toastrService.default("Download","Try to download again."))}),(function(){}))})),this.initNode&&setTimeout((function(){t.itemNode(t.initNode)}),100)}}]),t}()).\u0275fac=function(t){return new(t||ot)(s.Yb(J),s.Yb(X.a),s.Yb(w.a),s.Yb(o.ib),s.Yb(R.a))},ot.\u0275cmp=s.Sb({type:ot,selectors:[["app-file-file-detail"]],viewQuery:function(t,e){var n;1&t&&(s.bd(tt,!0),s.bd(H.a,!0)),2&t&&(s.Fc(n=s.nc())&&(e.EnableServe=n.first),s.Fc(n=s.nc())&&(e.chart=n.first))},inputs:{initNode:"initNode"},decls:3,vars:1,consts:[["class","detail",4,"ngIf"],["EnableServe",""],[1,"detail"],[3,"src"],["nbButton","",3,"click",4,"ngIf"],[3,"loading",4,"ngIf"],["nbButton","",3,"click"],[3,"loading"],[1,"vex-dialog-message"],[2,"padding","1rem 0.5rem"],[2,"text-indent","1rem"],[1,"vex-dialog-buttons"],["type","button",1,"vex-dialog-button","vex-dialog-button-primary","vex-first",3,"click"],["type","button",1,"vex-dialog-button","vex-dialog-button-secondary","vex-last",3,"click"]],template:function(t,e){1&t&&(s.Uc(0,rt,6,4,"div",0),s.Uc(1,it,12,0,"ng-template",null,1,s.Vc)),2&t&&s.wc("ngIf",!e.currentDirDetail)},directives:[r.o,o.n,H.a],styles:["div.detail[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0 1.25rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t}\n\t\t\timg[_ngcontent-%COMP%] {\n\t\t\t\twidth: 8rem;\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\t\t\th5[_ngcontent-%COMP%] {\n\t\t\t\toverflow-wrap: break-word;\n\t\t\t}\n\t\t\t.vex-dialog-message[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t}"]}),ot),at=n("pLZG"),st=["table"];function ut(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-checkbox",3),s.mc("indeterminateChange",(function(t){return s.Kc(n),s.oc().checAllInteral=t}))("checkedChange",(function(t){return s.Kc(n),s.oc().checkAll=t}))("checkedChange",(function(t){return s.Kc(n),s.oc().onToggleAll(t)})),s.dc()}if(2&t){var r=s.oc();s.wc("indeterminate",r.checAllInteral)("checked",r.checkAll)}}function lt(t,e){if(1&t&&s.Zb(0,"nb-icon",11),2&t){var n=s.oc().$implicit;s.wc("icon",n.ManipulateIcon)}}function ft(t,e){if(1&t){var n=s.fc();s.ec(0,"td",4),s.mc("dblclick",(function(t){return s.Kc(n),t.stopPropagation()}))("click",(function(t){s.Kc(n);var r=e.$implicit,i=s.oc();return i.toggle(r),i.stopEvent(t)})),s.ec(1,"nb-checkbox",5),s.mc("checkedChange",(function(t){return s.Kc(n),e.$implicit.check=t}))("checkedChange",(function(){return s.Kc(n),s.oc().onToggle()})),s.dc(),s.dc(),s.ec(2,"td",6),s.mc("click",(function(t){s.Kc(n);var r=e.$implicit,i=s.oc();return i.toggle(r),i.stopEvent(t)}))("dblclick",(function(t){return s.Kc(n),s.oc().stopEvent(t)})),s.Uc(3,lt,1,1,"nb-icon",7),s.dc(),s.ec(4,"td",8),s.Zb(5,"img",9),s.dc(),s.ec(6,"td",10),s.Wc(7),s.dc(),s.ec(8,"td",10),s.Wc(9),s.dc(),s.ec(10,"td",10),s.Wc(11),s.dc(),s.ec(12,"td",10),s.Wc(13),s.dc()}if(2&t){var r=e.$implicit;s.Mb(1),s.wc("checked",r.check),s.Mb(2),s.wc("ngIf",r.ManipulateIcon),s.Mb(2),s.wc("src","assets/icons/"+r.TypeIcon,s.Nc),s.Mb(2),s.Xc(r.Name),s.Mb(2),s.Xc(r.SizeHumanReadable),s.Mb(2),s.Xc(r.ModTimeHumanReadable),s.Mb(2),s.Xc(r.MimeType)}}var dt,pt,ht=((pt=function(){function t(e){_classCallCheck(this,t),this.clipboardService=e,this.columns=[{key:"manipulation",title:"",width:"3%",searchEnabled:!1,orderEnabled:!1},{key:"TypeIcon",title:"",width:"3%",searchEnabled:!1},{key:"Name",title:"Name",width:"50%"},{key:"Size",title:"Size",width:"10%"},{key:"ModTimeMoment",title:"Modified Time",width:"17%"},{key:"MimeType",title:"MIME Type",width:"17%"}],this.checkAll=!1,this.checAllInteral=!1,this.jump=new s.r,this.showDetail=new s.r}return _createClass(t,[{key:"loading",value:function(){this.configuration.isLoading=!0,this.checkAll=!1,this.table.apiEvent({type:a.a.setPaginationCurrentPage,value:1})}},{key:"eventEmitted",value:function(t){if("onDoubleClick"===t.event){var e=t.value.row;e.IsDir&&(this.jump.emit({remote:this.remote,path:e.Path}),this.loading())}else"onClick"===t.event&&this.pcDetailViewEnable?this.showDetail.emit(t.value.row):"onRowContextMenu"!==t.event||this.pcDetailViewEnable||this.showDetail.emit(t.value.row)}},{key:"onToggleAll",value:function(t){this.data.forEach((function(e){return e.check=t})),this.checAllInteral=!1}},{key:"onToggle",value:function(){var t=this.data.map((function(t){return+!!t.check})).reduce((function(t,e){return t+e}));t===this.data.length?(this.checkAll=!0,this.checAllInteral=!1):0===t?(this.checkAll=!1,this.checAllInteral=!1):(this.checkAll=!1,this.checAllInteral=!0)}},{key:"toggle",value:function(t){t.check=!t.check,this.onToggle()}},{key:"manipulate",value:function(t){var e=this;this.data.forEach((function(n){n.check&&(e.clipboardService.add(t,e.remote,n),n.check=!1,n.ManipulateIcon=Object(M.e)(t))})),this.onToggle()}},{key:"ngOnInit",value:function(){var t=this;this.configuration=Object.assign({},a.c),this.configuration.searchEnabled=!0,this.configuration.checkboxes=!0,this.configuration.isLoading=!0,this.configuration.showContextMenu=!0,this.listScrb=this.listExtends$.getOutput().subscribe((function(e){t.checkAll=!1,t.configuration.isLoading=!1,0===e[1].length?(t.remote=e[0].remote,t.data=e[0].list,t.data.forEach((function(t){t.check=!1,t.ManipulateIcon=Object(M.e)(t.Manipulation)}))):t.data=void 0}))}},{key:"ngOnDestroy",value:function(){this.listScrb.unsubscribe(),this.loading()}},{key:"stopEvent",value:function(t){t.stopPropagation(),t.preventDefault()}}]),t}()).\u0275fac=function(t){return new(t||pt)(s.Yb(N))},pt.\u0275cmp=s.Sb({type:pt,selectors:[["app-manager-list-view"]],viewQuery:function(t,e){var n;1&t&&s.bd(st,!0),2&t&&s.Fc(n=s.nc())&&(e.table=n.first)},inputs:{listExtends$:"listExtends$",pcDetailViewEnable:"pcDetailViewEnable"},outputs:{jump:"jump",showDetail:"showDetail"},decls:5,vars:4,consts:[["secAll",""],[3,"configuration","data","columns","selectAllTemplate","event"],["table",""],[3,"indeterminate","checked","indeterminateChange","checkedChange"],[3,"dblclick","click"],[3,"checked","checkedChange"],[3,"click","dblclick"],["class","manipulation","status","info",3,"icon",4,"ngIf"],[1,"rng-noselect",2,"padding","0"],[3,"src"],[1,"rng-noselect"],["status","info",1,"manipulation",3,"icon"]],template:function(t,e){if(1&t&&(s.Uc(0,ut,1,2,"ng-template",null,0,s.Vc),s.ec(2,"ngx-table",1,2),s.mc("event",(function(t){return e.eventEmitted(t)})),s.Uc(4,ft,14,7,"ng-template"),s.dc()),2&t){var n=s.Gc(1);s.Mb(2),s.wc("configuration",e.configuration)("data",e.data)("columns",e.columns)("selectAllTemplate",n)}},directives:[a.b,o.w,r.o,o.C],styles:["nb-icon.manipulation[_ngcontent-%COMP%] {\n\t\t\t\t\n\t\t\t\tfont-size: 0.625rem;\n\t\t\t\theight: 0.75rem;\n\t\t\t\twidth: 0.75rem;\n\t\t\t\tmargin-top: -0.125rem;\n\t\t\t\tmargin-bottom: -0.125rem;\n\t\t\t}"]}),pt),vt=((dt=function(){function t(e,n){_classCallCheck(this,t),this.connectService=e,this.clipboard=n,this.jump=new s.r,this.showDetail=new s.r,this.listTrigger=new _.a}return _createClass(t,[{key:"loading",value:function(){this.listView.loading()}},{key:"refresh",value:function(){this.loading(),this.list$.clearCache(),this.listTrigger.next(1)}},{key:"manipulate",value:function(t){this.listView.manipulate(t),this.clipboard.commit()}},{key:"ngOnInit",value:function(){var t=this;this.list$=new(function(e){_inherits(r,e);var n=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=n.apply(this,arguments)).prerequest$=Object(G.a)([t.listTrigger,t.nav$.getOutput(),t.connectService.listCmd$.verify(e.cmd)]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,3),n=e[1],r=e[2];return 0!==n[1].length||0!==r[1].length?[{},[].concat(n[1],r[1])]:[Object.assign(Object.assign({},n[0]),r[0]),[]]})),Object(at.a)((function(t){return 0!==t[1].length||!!t[0].remote}))),e}return _createClass(r)}(I.w)),this.list$.deploy(),this.listExtends$=new(function(e){_inherits(r,e);var n=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=n.apply(this,arguments)).prerequest$=Object(G.a)([t.list$.getSupersetOutput(),t.clipboard.clipboard$.getOutput()]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return[Object.assign(Object.assign({},n[0]),r[0]),[].concat(n[1],r[1])]}))),e}return _createClass(r)}(M.f)),this.listExtends$.deploy(),this.listTrigger.next(1)}}]),t}()).\u0275fac=function(t){return new(t||dt)(s.Yb(R.a),s.Yb(N))},dt.\u0275cmp=s.Sb({type:dt,selectors:[["app-manager-file-mode"]],viewQuery:function(t,e){var n;1&t&&s.bd(ht,!0),2&t&&s.Fc(n=s.nc())&&(e.listView=n.first)},inputs:{nav$:"nav$",pcDetailViewEnable:"pcDetailViewEnable"},outputs:{jump:"jump",showDetail:"showDetail"},decls:1,vars:2,consts:[[3,"listExtends$","pcDetailViewEnable","jump","showDetail"]],template:function(t,e){1&t&&(s.ec(0,"app-manager-list-view",0),s.mc("jump",(function(t){return e.jump.emit(t)}))("showDetail",(function(t){return e.showDetail.emit(t)})),s.dc()),2&t&&s.wc("listExtends$",e.listExtends$)("pcDetailViewEnable",e.pcDetailViewEnable)},directives:[ht],encapsulation:2}),dt);function bt(t,e){if(1&t&&(s.cc(0),s.ec(1,"tr"),s.ec(2,"td"),s.ec(3,"p"),s.Wc(4),s.dc(),s.dc(),s.dc(),s.ec(5,"tr"),s.ec(6,"td",6),s.Zb(7,"nb-progress-bar",7),s.dc(),s.dc(),s.bc()),2&t){var n=s.oc();s.Mb(4),s.Xc(123),s.Mb(3),s.wc("value",n.value)("displayValue",!0)}}var mt,gt=((mt=function(){function t(){_classCallCheck(this,t),this.title="unknow",this.subtitle="",this.value=0,this.easyMode=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||mt)},mt.\u0275cmp=s.Sb({type:mt,selectors:[["app-home-view-remote"]],inputs:{title:"title",subtitle:"subtitle",value:"value",easyMode:"easyMode"},decls:8,vars:3,consts:[[1,"grid-container"],["rowspan","2",2,"padding-right","1rem"],["icon","hard-drive"],[2,"width","100%"],[1,"rng-noselect"],[4,"ngIf"],["colspan","2"],["size","tiny",3,"value","displayValue"]],template:function(t,e){1&t&&(s.ec(0,"table",0),s.ec(1,"tr"),s.ec(2,"td",1),s.Zb(3,"nb-icon",2),s.dc(),s.ec(4,"td",3),s.ec(5,"p",4),s.Wc(6),s.dc(),s.dc(),s.dc(),s.Uc(7,bt,8,3,"ng-container",5),s.dc()),2&t&&(s.Mb(4),s.Nb("rowspan",e.easyMode?2:1),s.Mb(2),s.Xc(e.title),s.Mb(1),s.wc("ngIf",!e.easyMode))},directives:[o.C,r.o,o.T],styles:[".grid-container[_ngcontent-%COMP%] {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 4rem;\n\t\t\t\tcursor: pointer;\n\t\t\t\t\n\t\t\t}\n\t\t\ttd[_ngcontent-%COMP%]    > p[_ngcontent-%COMP%] {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}"]}),mt);function yt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-home-view-remote",5),s.mc("click",(function(){s.Kc(n);var t=s.oc().$implicit;return s.oc().showDetail.emit({remote:t})}))("dblclick",(function(){s.Kc(n);var t=s.oc().$implicit;return s.oc().jump.emit({remote:t})})),s.dc()}if(2&t){var r=s.oc().$implicit;s.wc("easyMode",!0)("title",r)}}function wt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-home-view-remote",6),s.mc("contextmenu",(function(t){s.Kc(n);var e=s.oc().$implicit;return s.oc().showDetail.emit({remote:e}),t.preventDefault(),t.stopPropagation()}))("dblclick",(function(){s.Kc(n);var t=s.oc().$implicit;return s.oc().jump.emit({remote:t})})),s.dc()}if(2&t){var r=s.oc().$implicit;s.wc("easyMode",!0)("title",r)}}var _t=function(t,e){return{"cloud col-sm-6":!0,"col-xl-3 col-md-4":t,"col-lg-4 col-md-6":e}},kt=function(){return["xs"]};function Ct(t,e){if(1&t&&(s.ec(0,"div",2),s.Uc(1,yt,1,2,"app-home-view-remote",3),s.Uc(2,wt,1,2,"app-home-view-remote",4),s.dc()),2&t){var n=s.oc();s.wc("ngClass",s.Bc(3,_t,!n.pcDetailView,n.pcDetailView)),s.Mb(1),s.wc("hideItBootstrap",s.zc(6,kt)),s.Mb(1),s.wc("showItBootstrap",s.zc(7,kt))}}var Ot,xt=((Ot=function(){function t(e){_classCallCheck(this,t),this.cmdService=e,this.remotes=[],this.jump=new s.r,this.showDetail=new s.r,this.remotesTrigger=new _.a,this.isLoading=!0}return _createClass(t,[{key:"loading",value:function(){this.isLoading=!0}},{key:"refresh",value:function(){this.loading(),this.remotes$.clearCache(),this.remotesTrigger.next(1)}},{key:"ngOnInit",value:function(){var t=this;this.loading();var e=this;this.remotes$=new(function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=n.apply(this,arguments)).prerequest$=Object(G.a)([e.remotesTrigger,e.cmdService.listCmd$.verify(t.cmd)]).pipe(Object(C.a)((function(t){return _slicedToArray(t,2)[1]}))),t}return _createClass(r)}(I.l)),this.remotes$.deploy(),this.remotesTrigger.next(1),this.remotes$.getOutput().subscribe((function(e){t.isLoading=!1,0===e[1].length&&(t.remotes=e[0].remotes)}))}}]),t}()).\u0275fac=function(t){return new(t||Ot)(s.Yb(R.a))},Ot.\u0275cmp=s.Sb({type:Ot,selectors:[["app-manager-home-mode"]],inputs:{pcDetailView:"pcDetailView"},outputs:{jump:"jump",showDetail:"showDetail"},decls:2,vars:2,consts:[["nbSpinnerSize","giant","nbSpinnerStatus","primary","nbSpinnerMessage","Loading...",1,"row","justify-content-start",3,"nbSpinner"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"easyMode","title","click","dblclick",4,"hideItBootstrap"],[3,"easyMode","title","contextmenu","dblclick",4,"showItBootstrap"],[3,"easyMode","title","click","dblclick"],[3,"easyMode","title","contextmenu","dblclick"]],template:function(t,e){1&t&&(s.ec(0,"div",0),s.Uc(1,Ct,3,8,"div",1),s.dc()),2&t&&(s.wc("nbSpinner",e.isLoading),s.Mb(1),s.wc("ngForOf",e.remotes))},directives:[o.ab,r.n,r.l,b.a,b.e,gt],styles:[".cloud[_ngcontent-%COMP%]{border-radius:.25rem}.cloud[_ngcontent-%COMP%]:hover{background-color:rgba(89,139,255,.5333333333333333)}"]}),Ot);function Mt(t,e){if(1&t&&(s.ec(0,"nb-list-item"),s.Zb(1,"nb-icon",4),s.ec(2,"div"),s.Wc(3),s.dc(),s.dc()),2&t){var n=e.$implicit;s.Mb(1),s.wc("icon",n.v?"checkmark-circle":"close-circle-outline")("status",n.v?"success":"danger"),s.Mb(2),s.Xc(n.k)}}function It(t,e){if(1&t&&(s.ec(0,"nb-accordion-item"),s.ec(1,"nb-accordion-item-header"),s.Wc(2,"Feature"),s.dc(),s.ec(3,"nb-accordion-item-body"),s.ec(4,"nb-list",2),s.Uc(5,Mt,4,3,"nb-list-item",3),s.dc(),s.dc(),s.dc()),2&t){var n=s.oc();s.Mb(4),s.wc("nbSpinner",n.loadingFsinfo),s.Mb(1),s.wc("ngForOf",n.feature)}}function St(t,e){if(1&t&&(s.ec(0,"nb-list-item"),s.ec(1,"div"),s.Wc(2),s.dc(),s.dc()),2&t){var n=e.$implicit;s.Mb(2),s.Xc(n)}}function jt(t,e){if(1&t&&(s.ec(0,"nb-accordion-item"),s.ec(1,"nb-accordion-item-header"),s.Wc(2,"Hash Support"),s.dc(),s.ec(3,"nb-accordion-item-body"),s.ec(4,"nb-list",2),s.Uc(5,St,3,1,"nb-list-item",3),s.dc(),s.dc(),s.dc()),2&t){var n=s.oc();s.Mb(4),s.wc("nbSpinner",n.loadingFsinfo),s.Mb(1),s.wc("ngForOf",n.hashes)}}var Pt,Tt=((Pt=function(){function t(e){_classCallCheck(this,t),this.cmdService=e,this.remote="",this.loadingFsinfo=!1,this.loadingAbout=!1,this.feature=[],this.hashes=[],this.trigger=new _.a}return _createClass(t,[{key:"navNode",value:function(t){this.remote=t.remote||"",this.loadingFsinfo=!0,this.loadingAbout=!0,this.trigger.next(t.remote)}},{key:"ngOnInit",value:function(){var t=this,e=this;this.loadingFsinfo=!1,this.loadingAbout=!1,this.fsinfo$=new(function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=n.apply(this,arguments)).prerequest$=Object(G.a)([e.trigger,e.cmdService.listCmd$.verify(t.cmd)]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return 0!==r[1].length?[{},r[1]]:[Object.assign(Object.assign({},r[0]),{remote:n}),[]]}))),t}return _createClass(r)}(I.v)),this.fsinfo$.deploy(),this.fsinfo$.getOutput().subscribe((function(e){if(t.loadingFsinfo=!1,0===e[1].length){var n=e[0]["fs-info"];t.feature=Object.keys(n.Features).map((function(t){return{k:t,v:n.Features[t]}})),t.hashes=n.Hashes}})),this.about$=new(function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=n.apply(this,arguments)).prerequest$=e.fsinfo$.getSupersetOutput(),t}return _createClass(r)}(I.s)),this.about$.deploy(),this.about$.getOutput().subscribe((function(e){t.loadingAbout=!1,0===e[1].length&&(t.chart.data=e[0].about)})),this.initNode&&setTimeout((function(){t.navNode(t.initNode)}),100)}}]),t}()).\u0275fac=function(t){return new(t||Pt)(s.Yb(R.a))},Pt.\u0275cmp=s.Sb({type:Pt,selectors:[["app-home-remote-detail"]],viewQuery:function(t,e){var n;1&t&&s.bd(H.a,!0),2&t&&s.Fc(n=s.nc())&&(e.chart=n.first)},inputs:{initNode:"initNode"},decls:6,vars:4,consts:[[3,"loading"],[4,"ngIf"],["nbSpinnerSize","giant","nbSpinnerStatus","primary",3,"nbSpinner"],[4,"ngFor","ngForOf"],[3,"icon","status"]],template:function(t,e){1&t&&(s.ec(0,"h5"),s.Wc(1),s.dc(),s.Zb(2,"app-rng-space-usage-chart",0),s.ec(3,"nb-accordion"),s.Uc(4,It,6,2,"nb-accordion-item",1),s.Uc(5,jt,6,2,"nb-accordion-item",1),s.dc()),2&t&&(s.Mb(1),s.Xc(e.remote),s.Mb(1),s.wc("loading",e.loadingAbout),s.Mb(2),s.wc("ngIf",e.feature.length),s.Mb(1),s.wc("ngIf",e.hashes.length))},directives:[H.a,o.a,r.o,o.c,o.d,o.b,o.M,o.ab,r.n,o.N,o.C],styles:["h5[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0 1.25rem;\n\t\t\t}\n\t\t\tnb-list[_ngcontent-%COMP%] {\n\t\t\t\tmargin: 0 -0.5rem;\n\t\t\t}\n\t\t\tnb-list-item[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0.5rem 0;\n\t\t\t}\n\t\t\tnb-list-item[_ngcontent-%COMP%]    > nb-icon[_ngcontent-%COMP%] {\n\t\t\t\twidth: 1rem;\n\t\t\t\theight: 1rem;\n\t\t\t}\n\t\t\tnb-list-item[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n\t\t\t\tpadding-left: 0.5rem;\n\t\t\t}"]}),Pt);function Dt(t,e){if(1&t){var n=s.fc();s.ec(0,"a",9),s.mc("click",(function(){return s.Kc(n),s.oc(2).jump.emit({})})),s.Zb(1,"nb-icon",10),s.dc()}}function Et(t,e){1&t&&s.Zb(0,"nb-icon",10)}function At(t,e){if(1&t){var n=s.fc();s.ec(0,"a",9),s.mc("click",(function(){s.Kc(n);var t=s.oc(3);return t.jump.emit(t.genAddr(-1))})),s.Zb(1,"nb-icon",13),s.Wc(2),s.dc()}if(2&t){var r=s.oc(3);s.Mb(2),s.Yc(" ",r.remote," ")}}function $t(t,e){if(1&t&&(s.ec(0,"div",14),s.Zb(1,"nb-icon",13),s.Wc(2),s.dc()),2&t){var n=s.oc(3);s.Mb(2),s.Yc(" ",n.remote," ")}}var Rt=function(t){return{"breadcrumb-item":!0,active:t}};function Lt(t,e){if(1&t&&(s.ec(0,"li",11),s.Uc(1,At,3,1,"a",4),s.Uc(2,$t,3,1,"div",12),s.dc()),2&t){var n=s.oc(2);s.wc("ngClass",s.Ac(3,Rt,!n.path)),s.Mb(1),s.wc("ngIf",n.path),s.Mb(1),s.wc("ngIf",!n.path)}}function Nt(t,e){if(1&t){var n=s.fc();s.ec(0,"li",15),s.ec(1,"a",9),s.mc("click",(function(){s.Kc(n);var t=e.index,r=s.oc(2);return r.jump.emit(r.genAddr(t))})),s.Wc(2),s.dc(),s.dc()}if(2&t){var r=e.$implicit;s.Mb(2),s.Yc(" ",r," ")}}function Ft(t,e){if(1&t&&(s.ec(0,"li",15),s.ec(1,"span",16),s.Wc(2),s.dc(),s.dc()),2&t){var n=s.oc(2);s.Mb(2),s.Xc(n.pathSurfix)}}function Ut(t,e){if(1&t){var n=s.fc();s.ec(0,"ol",2),s.mc("click",(function(){return s.Kc(n),s.oc().editTip()}))("dblclick",(function(){s.Kc(n);var t=s.oc();return t.editMode=!t.editMode})),s.ec(1,"li",3),s.Uc(2,Dt,2,0,"a",4),s.Uc(3,Et,1,0,"nb-icon",5),s.dc(),s.Uc(4,Lt,3,5,"li",6),s.Uc(5,Nt,3,1,"li",7),s.Uc(6,Ft,3,1,"li",8),s.dc()}if(2&t){var r=s.oc();s.Mb(2),s.wc("ngIf",r.remote),s.Mb(1),s.wc("ngIf",!r.remote),s.Mb(1),s.wc("ngIf",r.remote),s.Mb(1),s.wc("ngForOf",r.pathPrefix),s.Mb(1),s.wc("ngIf",r.pathSurfix)}}function qt(t,e){if(1&t){var n=s.fc();s.ec(0,"input",17),s.mc("dblclick",(function(){s.Kc(n);var t=s.oc();return t.editMode=!t.editMode}))("ngModelChange",(function(t){return s.Kc(n),s.oc().fullPath=t}))("keyup.enter",(function(){return s.Kc(n),s.oc().editorJump()})),s.dc()}if(2&t){var r=s.oc();s.wc("ngModel",r.fullPath)}}var Wt,Vt=((Wt=function(){function t(e){_classCallCheck(this,t),this.toastrService=e,this.jump=new s.r,this.editMode=!1}return _createClass(t,[{key:"editTip",value:function(){t.tipable&&(this.toastrService.default("Edit Mode will be actived after double click.","Breadcurmb",{position:o.B.BOTTOM_END,icon:"bulb",duration:5e3}),t.tipable=!1)}},{key:"editorJump",value:function(){if("string"==typeof this.fullPath)if(""!==this.fullPath){var t=this.fullPath.indexOf(":");t>-1?(this.remote=this.fullPath.substring(0,t),this.path=this.fullPath.substring(t+1),this.path.length>1&&this.path.endsWith("/")&&(this.path=this.path.slice(0,this.path.length-1))):(this.remote=this.fullPath,this.path=""),this.jump.emit({remote:this.remote,path:this.path})}else this.remote&&""!==this.remote&&this.jump.emit({});this.editMode=!this.editMode}},{key:"genAddr",value:function(t){return""===this.pathPrefix.slice(0,t+1).join("/")?{remote:this.remote}:{remote:this.remote,path:this.pathPrefix.slice(0,t+1).join("/")}}},{key:"splitPath",value:function(t){if(!t)return[[],void 0];var e=t.split("/");return[e.slice(0,-1),e[e.length-1]]}},{key:"ngOnInit",value:function(){var t=this;this.nav$.getOutput().subscribe((function(e){var n;t.remote=e[0].remote,n=_slicedToArray(t.splitPath(e[0].path),2),t.pathPrefix=n[0],t.pathSurfix=n[1],t.path=e[0].path,t.fullPath="".concat(t.remote?t.remote+":":"").concat(t.path?t.path:"")}))}}]),t}()).tipable=!0,Wt.\u0275fac=function(t){return new(t||Wt)(s.Yb(o.ib))},Wt.\u0275cmp=s.Sb({type:Wt,selectors:[["app-manager-breadcrumb"]],inputs:{nav$:"nav$"},outputs:{jump:"jump"},decls:2,vars:2,consts:[["class","breadcrumb rng-noselect","style","flex-wrap: nowrap; overflow-x: auto;",3,"click","dblclick",4,"ngIf"],["nbInput","","class","editor","fullWidth","",3,"ngModel","dblclick","ngModelChange","keyup.enter",4,"ngIf"],[1,"breadcrumb","rng-noselect",2,"flex-wrap","nowrap","overflow-x","auto",3,"click","dblclick"],[1,"breadcrumb-item","home"],[3,"click",4,"ngIf"],["icon","home-outline",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],["class","breadcrumb-item",4,"ngIf"],[3,"click"],["icon","home-outline"],[3,"ngClass"],["style","display: inline-flex;",4,"ngIf"],["icon","google-outline",2,"vertical-align","middle"],[2,"display","inline-flex"],[1,"breadcrumb-item"],[1,"active"],["nbInput","","fullWidth","",1,"editor",3,"ngModel","dblclick","ngModelChange","keyup.enter"]],template:function(t,e){1&t&&(s.Uc(0,Ut,7,5,"ol",0),s.Uc(1,qt,1,1,"input",1)),2&t&&(s.wc("ngIf",!e.editMode),s.Mb(1),s.wc("ngIf",e.editMode))},directives:[r.o,r.n,o.C,r.l,o.F,i.a,i.e,i.h],styles:[".breadcrumb[_ngcontent-%COMP%] {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t\twidth: -webkit-fill-available;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\tcursor: text;\n\t\t\t\tbackground: #000;\n\t\t\t}\n\t\t\t.editor[_ngcontent-%COMP%] {\n\t\t\t\twidth: -webkit-fill-available;\n\t\t\t\t\n\t\t\t}\n\t\t\tli[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flow-root;\n\t\t\t}\n\t\t\tli[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%] {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 1rem;\n\t\t\t\tpadding: 0.1545rem 0.5rem;\n\t\t\t\ttext-decoration: unset;\n\t\t\t}\n\t\t\tli[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover {\n\t\t\t\tbackground: #274bdb;\n\t\t\t\tcolor: white;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.active[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0.1545rem 1rem 0.1545rem 0;\n\t\t\t}\n\t\t\t.home[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0.1545rem 0.5rem;\n\t\t\t}"]}),Wt),Bt=["MobileRemoteDetail"],Kt=["MobileFileDetail"];function zt(t,e){if(1&t){var n=s.fc();s.ec(0,"a",21),s.mc("click",(function(){return s.Kc(n),s.oc().toggleDetail()})),s.Zb(1,"nb-icon",22),s.dc()}}function Qt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-manager-home-mode",23),s.mc("jump",(function(t){return s.Kc(n),s.oc().addrJump(t)}))("showDetail",(function(t){return s.Kc(n),s.oc().openRemoteDetail(t)})),s.dc()}if(2&t){var r=s.oc();s.wc("pcDetailView",r.pcDetailView)}}function Yt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-manager-file-mode",24),s.mc("jump",(function(t){return s.Kc(n),s.oc().addrJump(t)}))("showDetail",(function(t){return s.Kc(n),s.oc().openFileDetail(t)})),s.dc()}if(2&t){var r=s.oc();s.wc("pcDetailViewEnable",r.pcDetailViewEnable)("nav$",r.nav$)}}function Zt(t,e){1&t&&s.Zb(0,"app-home-remote-detail")}function Gt(t,e){1&t&&s.Zb(0,"app-file-file-detail")}function Ht(t,e){if(1&t&&(s.ec(0,"nb-sidebar",25),s.Uc(1,Zt,1,0,"app-home-remote-detail",26),s.Uc(2,Gt,1,0,"app-file-file-detail",26),s.dc()),2&t){var n=s.oc();s.Mb(1),s.wc("ngIf",n.homeMode),s.Mb(1),s.wc("ngIf",n.fileMode)}}function Xt(t,e){1&t&&s.Zb(0,"app-home-remote-detail",27),2&t&&s.wc("initNode",e.dialogRef.context.navNode)}function Jt(t,e){1&t&&s.Zb(0,"app-file-file-detail",27),2&t&&s.wc("initNode",e.dialogRef.context.itemNode)}function te(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",28),s.mc("click",(function(){return s.Kc(n),s.oc().file.manipulate("copy")})),s.Wc(1,"COPY"),s.dc()}}function ee(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",29),s.mc("click",(function(){return s.Kc(n),s.oc().file.manipulate("move")})),s.Wc(1,"MOVE"),s.dc()}}function ne(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",30),s.mc("click",(function(){return s.Kc(n),s.oc().file.manipulate("del")})),s.Wc(1,"DEL"),s.dc()}}function re(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",31),s.mc("click",(function(){return s.Kc(n),s.oc().paste()})),s.Wc(1,"PASTE"),s.dc()}}function ie(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",32),s.mc("click",(function(){return s.Kc(n),s.oc().mkdirDialog()})),s.Wc(1,"NEW DIR"),s.dc()}}function oe(t,e){if(1&t&&s.Zb(0,"nb-badge",33),2&t){var n=s.oc();s.wc("text",n.clipboardSize)}}var ce,ae,se,ue=function(t){return{subcolumn:!0,"subcolumn-right-bar":t}},le=function(t,e){return{mobile:t,pc:e}},fe=[{path:"",component:(ce=function(){function t(e,n,r,i,o,c,a,s){_classCallCheck(this,t),this.toastrService=e,this.clipboard=n,this.resp=r,this.modal=i,this.router=o,this.route=c,this.sidebarService=a,this.tasksQueueService=s,this.homeMode=!1,this.fileMode=!1,this.mainBar=!1,this.navTrigger=new _.a,this.mkdirTrigger=new _.a,this.clipboardSize=0,this.pasteTrigger=new _.a,this.orderCnt=0,this.pcDetailViewEnable=!1,this.pcDetailView=!1,this.visable=!1}return _createClass(t,[{key:"loading",value:function(){this.fileMode?this.file.loading():this.homeMode&&this.home.loading()}},{key:"refresh",value:function(){this.homeMode?this.home.refresh():this.fileMode&&this.file.refresh()}},{key:"addrJump",value:function(t){this.loading(),this.navTrigger.next(t)}},{key:"navDeploy",value:function(){var t=this;this.nav$=new(function(e){_inherits(r,e);var n=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=n.apply(this,arguments)).prerequest$=t.navTrigger.pipe(Object(k.a)((function(t,e){return JSON.stringify(t)===JSON.stringify(e)})),Object(C.a)((function(e){var n=e.remote;n&&""===n&&(n=void 0);var r=e.path;return r&&""===r&&(r=void 0),t.homeMode=!n,t.fileMode=!!n,[{remote:n,path:r},[]]}))),e}return _createClass(r)}(I.p)),this.nav$.deploy(),this.navTrigger.next({})}},{key:"mkdirDialog",value:function(){var t=this;this.modal.open(Z,Object(y.m)({isBlocking:!1},w.b)).result.then((function(e){e&&""!==e&&t.mkdirTrigger.next(e)}),(function(){}))}},{key:"mkdirDeploy",value:function(){var t=this,e=this;e.mkdirTrigger.pipe(Object(O.a)(e.nav$.getOutput())).subscribe((function(n){var r=_slicedToArray(n,2),i=r[0],o=r[1];if(0!==o[1].length)return o;o[0].path&&(i=[o[0].path,i].join("/")),e.toastrService.default("Creating directory","Waiting..."),t.tasksQueueService.AddTaskMkdir([{remote:o[0].remote,path:i},[]]).then((function(e){0!==e[1].length?t.toastrService.danger("create dir failure"):t.toastrService.success("create dir success")}))}))}},{key:"clipboardDeploy",value:function(){var t=this;this.clipboard.clipboard$.getOutput().subscribe((function(e){0===e[1].length&&(t.clipboardSize=e[0].clipboard.values.length)}))}},{key:"pasteDeploy",value:function(){var t=this;this.pasteTrigger.pipe(Object(O.a)(this.nav$.getOutput())).subscribe((function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];if(0!==i[1].length)throw Error("can't not get destination.");r.forEach((function(e){t.clipboard.post(i[0],e).then((function(n){0===n[1].length?t.toastrService.success('"'.concat(e,'" tasks sent to server'),"Success",{icon:Object(M.e)(e)}):t.toastrService.danger('"'.concat(e,'" tasks sent to server'),"Failure",{icon:Object(M.e)(e),destroyByClick:!0})}))}))}))}},{key:"paste",value:function(){this.pasteTrigger.next(["copy","move"])}},{key:"clipboardDialog",value:function(){var t=this;this.modal.open(Y,Object(y.m)({isBlocking:!1},w.b)).result.then((function(e){!0===e&&t.pasteTrigger.next(["del"])}),(function(){}))}},{key:"routeDeploy",value:function(){var t=this;this.route.queryParams.pipe(Object(x.a)((function(){return t.visable})),Object(k.a)((function(t,e){return JSON.stringify(t)===JSON.stringify(e)}))).subscribe((function(e){t.navTrigger.next(e)})),this.nav$.getOutput().pipe(Object(x.a)((function(){return t.visable}))).subscribe((function(e){if(0===e[1].length){var n={};e[0].remote&&""!==e[0].remote&&(n.remote=e[0].remote),e[0].path&&""!==e[0].path&&(n.path=e[0].path),t.router.navigate([],{queryParams:n})}}))}},{key:"sidebarDeploy",value:function(){var t=this;this.resp.getResponsiveSize.subscribe((function(e){t.mainBar=!("xs"===e||"sm"===e||"md"===e),t.pcDetailViewEnable="xs"!==e,"xs"===e&&(t.pcDetailView=!1,t.sidebarService.collapse("detail"))}))}},{key:"toggleDetail",value:function(){this.pcDetailView=!this.pcDetailView,this.sidebarService.toggle(!1,"detail")}},{key:"openRemoteDetail",value:function(t){this.pcDetailView&&this.remoteDetail.navNode(t),this.pcDetailViewEnable||this.modal.open(this.remoteDetailMobile,Object(y.m)({isBlocking:!1,navNode:t},w.b))}},{key:"openFileDetail",value:function(t){this.pcDetailView&&this.fileDetail.itemNode(t),this.pcDetailViewEnable||this.modal.open(this.fileDetailMobile,Object(y.m)({isBlocking:!1,itemNode:t},w.b))}},{key:"ngOnInit",value:function(){this.visable=!0,this.sidebarDeploy(),this.navDeploy(),this.routeDeploy(),this.mkdirDeploy(),this.clipboardDeploy(),this.pasteDeploy()}},{key:"ngOnDestroy",value:function(){this.visable=!1}}]),t}(),ce.\u0275fac=function(t){return new(t||ce)(s.Yb(o.ib),s.Yb(N),s.Yb(b.c),s.Yb(w.a),s.Yb(g.c),s.Yb(g.a),s.Yb(o.Z),s.Yb(L))},ce.\u0275cmp=s.Sb({type:ce,selectors:[["app-manager"]],viewQuery:function(t,e){var n;1&t&&(s.bd(vt,!0),s.bd(xt,!0),s.bd(Tt,!0),s.bd(Bt,!0),s.bd(ct,!0),s.bd(Kt,!0)),2&t&&(s.Fc(n=s.nc())&&(e.file=n.first),s.Fc(n=s.nc())&&(e.home=n.first),s.Fc(n=s.nc())&&(e.remoteDetail=n.first),s.Fc(n=s.nc())&&(e.remoteDetailMobile=n.first),s.Fc(n=s.nc())&&(e.fileDetail=n.first),s.Fc(n=s.nc())&&(e.fileDetailMobile=n.first))},decls:27,vars:18,consts:[["subheader",""],[3,"nav$","jump"],[1,"push-to-right","option",3,"click"],["icon","refresh"],[1,"option"],["icon","list"],["class","option",3,"click",4,"ngIf"],[3,"ngClass"],[3,"pcDetailView","jump","showDetail",4,"ngIf"],[3,"pcDetailViewEnable","nav$","jump","showDetail",4,"ngIf"],["fixed","","end","","class","right-bar","tag","detail","state","collapsed",4,"ngIf"],["MobileRemoteDetail",""],["MobileFileDetail",""],["icon","copy",3,"click",4,"ngIf"],["icon","move",3,"click",4,"ngIf"],["icon","trash-2",3,"click",4,"ngIf"],["icon","clipboard",3,"click",4,"ngIf"],["icon","folder-add",3,"click",4,"ngIf"],[1,"push-to-right",2,"padding-right","1.5rem","padding-left","0.5rem",3,"click"],["icon","inbox",2,"font-size","1.5rem"],["status","info","position","top end",3,"text",4,"ngIf"],[1,"option",3,"click"],["icon","info"],[3,"pcDetailView","jump","showDetail"],[3,"pcDetailViewEnable","nav$","jump","showDetail"],["fixed","","end","","tag","detail","state","collapsed",1,"right-bar"],[4,"ngIf"],[3,"initNode"],["icon","copy",3,"click"],["icon","move",3,"click"],["icon","trash-2",3,"click"],["icon","clipboard",3,"click"],["icon","folder-add",3,"click"],["status","info","position","top end",3,"text"]],template:function(t,e){1&t&&(s.ec(0,"nb-layout-header",0),s.ec(1,"app-manager-breadcrumb",1),s.mc("jump",(function(t){return e.addrJump(t)})),s.dc(),s.ec(2,"a",2),s.mc("click",(function(){return e.refresh()})),s.Zb(3,"nb-icon",3),s.dc(),s.ec(4,"a",4),s.Zb(5,"nb-icon",5),s.dc(),s.Uc(6,zt,2,0,"a",6),s.dc(),s.ec(7,"div",7),s.ec(8,"nb-card"),s.ec(9,"nb-card-body"),s.Uc(10,Qt,1,1,"app-manager-home-mode",8),s.Uc(11,Yt,1,2,"app-manager-file-mode",9),s.dc(),s.dc(),s.dc(),s.Uc(12,Ht,3,2,"nb-sidebar",10),s.Uc(13,Xt,1,1,"ng-template",null,11,s.Vc),s.Uc(15,Jt,1,1,"ng-template",null,12,s.Vc),s.ec(17,"nb-layout-footer",7),s.ec(18,"nb-actions"),s.Uc(19,te,2,0,"nb-action",13),s.Uc(20,ee,2,0,"nb-action",14),s.Uc(21,ne,2,0,"nb-action",15),s.Uc(22,re,2,0,"nb-action",16),s.Uc(23,ie,2,0,"nb-action",17),s.ec(24,"nb-action",18),s.mc("click",(function(){return e.clipboardDialog()})),s.Zb(25,"nb-icon",19),s.Uc(26,oe,1,1,"nb-badge",20),s.dc(),s.dc(),s.dc()),2&t&&(s.Mb(1),s.wc("nav$",e.nav$),s.Mb(5),s.wc("ngIf",e.pcDetailViewEnable),s.Mb(1),s.wc("ngClass",s.Ac(13,ue,e.pcDetailView)),s.Mb(3),s.wc("ngIf",e.homeMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.pcDetailViewEnable),s.Mb(5),s.wc("ngClass",s.Bc(15,le,!e.mainBar,e.mainBar)),s.Mb(2),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(3),s.wc("ngIf",e.clipboardSize))},directives:[o.K,Vt,o.C,r.o,r.l,o.r,o.q,o.J,o.g,o.f,xt,vt,o.X,Tt,ct,o.l],styles:["nb-layout-header[_ngcontent-%COMP%] {\n\t\t\t\tposition: sticky;\n\t\t\t\ttop: 3rem;\n\t\t\t\tz-index: 700;\n\t\t\t}\n\t\t\tapp-manager-breadcrumb[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: contents;\n\t\t\t}\n\t\t\t.option[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0 0.3rem;\n\t\t\t}\n\t\t\t.right-bar[_ngcontent-%COMP%] {\n\t\t\t\ttop: calc(4.75rem * 2 + 0.05rem) !important;\n\t\t\t\tbottom: 65px !important;\n\t\t\t\theight: auto;\n\t\t\t\tz-index: 699;\n\t\t\t}\n\t\t\t[_nghost-%COMP%]   nb-sidebar[_ngcontent-%COMP%]     .main-container {\n\t\t\t\theight: auto !important;\n\t\t\t\ttop: calc(4.75rem * 2 + 0.05rem) !important;\n\t\t\t\tbottom: 65px !important;\n\t\t\t}\n\t\t\t[_nghost-%COMP%]   nb-sidebar[_ngcontent-%COMP%]     .scrollable {\n\t\t\t\tpadding: 1.25rem 0 !important;\n\t\t\t}\n\t\t\t.subcolumn[_ngcontent-%COMP%] {\n\t\t\t\tmargin-bottom: 4.75rem;\n\t\t\t\tmargin-top: 1.5rem;\n\t\t\t}\n\t\t\t.subcolumn-right-bar[_ngcontent-%COMP%] {\n\t\t\t\tmargin-right: 16rem;\n\t\t\t}\n\t\t\t\n\t\t\tnb-layout-footer[_ngcontent-%COMP%] {\n\t\t\t\tz-index: 998;\n\t\t\t\tposition: fixed;\n\t\t\t\tbottom: 0;\n\t\t\t}\n\t\t\tnb-layout-footer.mobile[_ngcontent-%COMP%] {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\tnb-layout-footer.pc[_ngcontent-%COMP%] {\n\t\t\t\twidth: calc(100% - 12rem);\n\t\t\t}\n\t\t\tnb-layout-footer[_ngcontent-%COMP%]     nav {\n\t\t\t\toverflow-x: auto;\n\t\t\t}\n\t\t\tnb-actions[_ngcontent-%COMP%] {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.push-to-right[_ngcontent-%COMP%] {\n\t\t\t\tmargin-left: auto;\n\t\t\t\t\n\t\t\t}\n\t\t\t.subcolumn[_ngcontent-%COMP%]    > nb-card[_ngcontent-%COMP%] {\n\t\t\t\tmargin: 0 1.25rem;\n\t\t\t}"]}),ce)}],de=((se=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=s.Wb({type:se}),se.\u0275inj=s.Vb({factory:function(t){return new(t||se)},imports:[[g.g.forChild(fe)],g.g]}),se),pe=((ae=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=s.Wb({type:ae}),ae.\u0275inj=s.Vb({factory:function(t){return new(t||ae)},imports:[[r.c,de,o.h,o.v,o.E,o.U,a.d,o.L,o.Y,o.x,o.o,o.G,o.kb,o.m,o.fb,o.e,o.bb,o.O,c.b,v,m.a,i.b,b.b]]}),ae)},Iab2:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){c(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,c){var a=i.URL||i.webkitURL,s=document.createElement("a");s.download=o=o||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?r(s):n(s.href)?e(t,o,c):r(s,s.target="_blank")):(s.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(s.href)}),4e4),setTimeout((function(){r(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(n(t))e(t,i,o);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout((function(){r(c)}))}}:function(t,n,r,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var a="application/octet-stream"===t.type,s=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s||o)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},l.readAsDataURL(t)}else{var f=i.URL||i.webkitURL,d=f.createObjectURL(t);c?c.location=d:location.href=d,c=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});i.saveAs=c.saveAs=c,t.exports=c})?r.apply(e,[]):r)||(t.exports=i)},Q5J2:function(t,e,n){"use strict";var r=n("WADQ"),i=function(t){_inherits(n,_wrapNativeSuper(Error));var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).name="TimeoutError",r}return _createClass(n)}(),o=function(t,e,n){return new Promise((function(o,c){if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e!==1/0){var a=setTimeout((function(){if("function"!=typeof n){var r=n instanceof Error?n:new i("string"==typeof n?n:"Promise timed out after ".concat(e," milliseconds"));"function"==typeof t.cancel&&t.cancel(),c(r)}else try{o(n())}catch(a){c(a)}}),e);r(t.then(o,c),(function(){clearTimeout(a)}))}else o(t)}))};t.exports=o,t.exports.default=o,t.exports.TimeoutError=i},TDd8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("tEK5");e.default=function(){function t(){_classCallCheck(this,t),this._queue=[]}return _createClass(t,[{key:"enqueue",value:function(t,e){var n={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)this._queue.push(n);else{var i=r.default(this._queue,n,(function(t,e){return e.priority-t.priority}));this._queue.splice(i,0,n)}}},{key:"dequeue",value:function(){var t=this._queue.shift();return null==t?void 0:t.run}},{key:"filter",value:function(t){return this._queue.filter((function(e){return e.priority===t.priority})).map((function(t){return t.run}))}},{key:"size",get:function(){return this._queue.length}}]),t}()},WADQ:function(t,e,n){"use strict";t.exports=function(t,e){return e=e||function(){},t.then((function(t){return new Promise((function(t){t(e())})).then((function(){return t}))}),(function(t){return new Promise((function(t){t(e())})).then((function(){throw t}))}))}},mH7l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("uhBA"),i=n("Q5J2"),o=n("TDd8"),c=function(){},a=new i.TimeoutError;e.default=function(t){_inherits(l,t);var e,n,r,s,u=_createSuper(l);function l(t){var e,n,r,i,a;if(_classCallCheck(this,l),(e=u.call(this))._intervalCount=0,e._intervalEnd=0,e._pendingCount=0,e._resolveEmpty=c,e._resolveIdle=c,!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},t)).intervalCap&&t.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(r=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==r?r:"","` (").concat(typeof t.intervalCap,")"));if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(a=null===(i=t.interval)||void 0===i?void 0:i.toString())&&void 0!==a?a:"","` (").concat(typeof t.interval,")"));return e._carryoverConcurrencyCount=t.carryoverConcurrencyCount,e._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,e._intervalCap=t.intervalCap,e._interval=t.interval,e._queue=new t.queueClass,e._queueClass=t.queueClass,e.concurrency=t.concurrency,e._timeout=t.timeout,e._throwOnTimeout=!0===t.throwOnTimeout,e._isPaused=!1===t.autoStart,_possibleConstructorReturn(e)}return _createClass(l,[{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=c,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=c,this.emit("idle"))}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}},{key:"_isIntervalPaused",value:function(){var t=this,e=Date.now();if(void 0===this._intervalId){var n=this._intervalEnd-e;if(!(n<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((function(){t._onResumeInterval()}),n)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){var t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){var e=this._queue.dequeue();return!!e&&(this.emit("active"),e(),t&&this._initializeIntervalIfNeeded(),!0)}}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var t=this;this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((function(){t._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}},{key:"_processQueue",value:function(){for(;this._tryToStartAnother(););}},{key:"concurrency",get:function(){return this._concurrency},set:function(t){if(!("number"==typeof t&&t>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(t,"` (").concat(typeof t,")"));this._concurrency=t,this._processQueue()}},{key:"add",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var n,r=this,o=arguments;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t.abrupt("return",new Promise((function(t,o){r._queue.enqueue(_asyncToGenerator(_regeneratorRuntime().mark((function c(){var s;return _regeneratorRuntime().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r._pendingCount++,r._intervalCount++,c.prev=1,s=void 0===r._timeout&&void 0===n.timeout?e():i.default(Promise.resolve(e()),void 0===n.timeout?r._timeout:n.timeout,(function(){(void 0===n.throwOnTimeout?r._throwOnTimeout:n.throwOnTimeout)&&o(a)})),c.t0=t,c.next=6,s;case 6:c.t1=c.sent,(0,c.t0)(c.t1),c.next=13;break;case 10:c.prev=10,c.t2=c.catch(1),o(c.t2);case 13:r._next();case 14:case"end":return c.stop()}}),c,null,[[1,10]])}))),n),r._tryToStartAnother(),r.emit("add")})));case 2:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"addAll",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){var r=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map(function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.add(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)})},{key:"start",value:function(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this._queue=new this._queueClass}},{key:"onEmpty",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var e=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this._queue.size){t.next=2;break}return t.abrupt("return",new Promise((function(t){var n=e._resolveEmpty;e._resolveEmpty=function(){n(),t()}})));case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"onIdle",value:(e=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var e=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this._pendingCount&&0===this._queue.size){t.next=2;break}return t.abrupt("return",new Promise((function(t){var n=e._resolveIdle;e._resolveIdle=function(){n(),t()}})));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"size",get:function(){return this._queue.size}},{key:"sizeBy",value:function(t){return this._queue.filter(t).length}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}},{key:"timeout",get:function(){return this._timeout},set:function(t){this._timeout=t}}]),l}(r)},mrSG:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function c(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return r}))},tEK5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){for(var r=0,i=t.length;i>0;){var o=i/2|0,c=r+o;n(t[c],e)<=0?(r=++c,i-=o+1):i=o}return r}},uhBA:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function c(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new c(n,r||t,o),s=i?i+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=this._events[i?i+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,r=e.length,o=new Array(r);n<r;n++)o[n]=e[n].fn;return o},u.prototype.listenerCount=function(t){var e=this._events[i?i+t:t];return e?e.fn?1:e.length:0},u.prototype.emit=function(t,e,n,r,o,c){var a=i?i+t:t;if(!this._events[a])return!1;var s,u,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,c),!0}for(u=1,s=new Array(f-1);u<f;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,r);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];l[u].fn.apply(l[u].context,s)}}return!0},u.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var c=this._events[o];if(c.fn)c.fn!==e||r&&!c.once||n&&c.context!==n||s(this,o);else{for(var a=0,u=[],l=c.length;a<l;a++)(c[a].fn!==e||r&&!c[a].once||n&&c[a].context!==n)&&u.push(c[a]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?this._events[e=i?i+t:t]&&s(this,e):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u}}]);